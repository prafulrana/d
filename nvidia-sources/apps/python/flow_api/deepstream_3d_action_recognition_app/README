*****************************************************************************
 * SPDX-FileCopyrightText: Copyright (c) 2025 NVIDIA CORPORATION & AFFILIATES. All rights reserved.
 * SPDX-License-Identifier: LicenseRef-NvidiaProprietary
 *
 * NVIDIA CORPORATION, its affiliates and licensors retain all intellectual
 * property and proprietary rights in and to this material, related
 * documentation and any modifications thereto. Any use, reproduction,
 * disclosure or distribution of this material and related documentation
 * without an express license agreement from NVIDIA CORPORATION or
 * its affiliates is strictly prohibited.
*****************************************************************************

===============================================================================
1. Prerequisites:
===============================================================================

Compile custom lib:

/opt/nvidia/deepstream/deepstream/sources/apps/sample_apps/deepstream-3d-action-recognition/custom_sequence_preprocess/libnvds_custom_sequence_preprocess.so:

  $ cd /opt/nvidia/deepstream/deepstream/sources/apps/sample_apps/deepstream-3d-action-recognition/custom_sequence_preprocess/

  $ Set CUDA_VER in the MakeFile as per platform.
     For x86, CUDA_VER=12.8
     For jetson, CUDA_VER=13.0

  $ sudo make install (sudo not required in case of docker containers)

NOTE: To compile the sources, run make with "sudo" or root permission.

Search and Download 3D and 2D RGB based tao_iva_action_recognition_pretrained
models from NGC https://ngc.nvidia.com/catalog/models/nvidia:tao:actionrecognitionnet
into /opt/nvidia/deepstream/deepstream/sources/apps/sample_apps/deepstream-3d-action-recognition/ . The 2 TAO models are
  resnet18_3d_rgb_hmdb5_32.onnx
  resnet18_2d_rgb_hmdb5_32.onnx

Make sure the model names are exactly same as the ones mentioned above while downloading.
These Models support following classes :
  push;fall_floor;walk;run;ride_bike

For More Info:
    Check /opt/nvidia/deepstream/deepstream/sources/apps/sample_apps/deepstream-3d-action-recognition/README

===============================================================================
2. Purpose:
===============================================================================

The sample app demonstrates how to smplify ../../pipeline_api/deepstream_3d_action_recognition_app 
using Flow API.
Flow APIs effectively abstract away the underlying pipeline details, allowing 
developers to focus solely on the goals of their specific tasks in a pythonic style.

===============================================================================
3. Usage:
===============================================================================

 $ python3 deepstream_3d_action_recognition <uri1> [uri2] ... [uriN]

 For URI(s) with special charcaters like @,& etc, you need to pass the uri within quotes
    $ python3 deepstream_test3.py 'rtsp://user@ip/cam/realmonitor?channel=1&subtype=0' 'rtsp://user@ip/cam/realmonitor?channel=1&subtype=0'